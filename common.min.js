function is_touch_device(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var t,n=["(",e.join("touch-enabled),("),"heartz",")"].join("");return t=n,window.matchMedia(t).matches}var info=document.querySelector(".info"),infoInner=document.querySelector(".info__inner"),windowWidth=window.innerWidth,page=document.body;window.addEventListener("load",function(){var o,s,i=document.createElement("div"),a=new Audio("resources/audio/valve-theme.wav");i.className="intro",i.innerHTML='<img src="resources/intro/intro-1.jpg" class="intro__image"><img src="resources/intro/intro-3.jpg" class="intro__glitch-image"><div class="intro__panel"><button type="button" class="button button_sound intro__pause"></button><button type="button" class="button button_sound intro__close"></button></div>',page.append(i);var r=document.querySelector(".intro__pause");r.addEventListener("click",function(){this.className.indexOf("intro__play")<0?a.pause():a.play(),this.classList.toggle("intro__play")}),document.querySelectorAll(".button_sound").forEach(function(n){is_touch_device()||n.addEventListener("mouseenter",function(){new Audio("resources/audio/buttonrollover.wav").play()}),n.addEventListener("click",function(){var e;if(new Audio("resources/audio/buttonclickrelease.wav").play(),n.blur(),0<=n.className.indexOf("languages__button")){var t=n.innerText.toLowerCase();document.querySelector(".languages__button_active").classList.remove("languages__button_active"),n.classList.add("languages__button_active"),page.className="page page_"+t,0<=info.className.indexOf("show")&&(info.style.height=infoInner.offsetHeight+"px")}0<=n.className.indexOf("open-intro__button")&&(i.classList.add("intro_show"),a.loop=!0,a.play(),page.dataset.scrollTop=window.scrollY,s=setTimeout(function(){page.classList.add("page_intro")},3e3),o=setInterval(function(){i.classList.add("intro_glitch"),setTimeout(function(){i.classList.remove("intro_glitch")},85)},1e4)),0<=n.className.indexOf("intro__close")&&(clearTimeout(s),page.classList.remove("page_intro"),window.scroll(0,page.dataset.scrollTop),a.pause(),a.currentTime=0,clearInterval(o),i.className="intro",r.classList.remove("intro__play")),0<=n.className.indexOf("stats")&&n.classList.toggle("stats_hidden"),0<=n.className.indexOf("open-info__button")&&(e=info.className.indexOf("show")<0?info.scrollHeight+5:0,info.style.height=e+"px",info.classList.toggle("show"),n.classList.toggle("active"))})});var t=document.querySelector(".timer__inner"),n=60,c=1e3;var e=document.querySelector(".page__start-button");setTimeout(function(){e.classList.add("active"),e.innerText="Start"},1e3),e.addEventListener("click",function(){0<=this.className.indexOf("active")&&(e.remove(),page.classList.remove("page_loading"),function e(){setTimeout(function(){remainingSeconds=(n-=1)%60,allMinutes=(n-remainingSeconds)/60,remainingMinutes=allMinutes%60,allHours=(allMinutes-allMinutes%60)/60,1==remainingMinutes.toString().length&&(remainingMinutes="0"+remainingMinutes),allHours%2==0&&(allHours=Math.abs(allHours)),1==allHours.toString().length&&(allHours="0"+allHours),-25==allHours&&(n=60),t.innerHTML=allHours+":"+remainingMinutes+":"+("0"+remainingSeconds).slice(-2),e()},c)}(),a.volume=0,a.play(),a.pause(),a.currentTime=0,a.volume=1)});var u=document.querySelector(".timer__footer");t.addEventListener("click",function(e){u.classList.toggle("timer__footer_show")});var l,d=document.querySelector(".timer__speedup"),m=128,_=1.1,g=0;d.addEventListener("click",function(e){g++;var t=new Audio("resources/audio/timer-speedup/"+g+".wav");t.volume=.7,t.play(),1<c?(c/=2,l="rgb(255, "+(m-=12.8)+", 23)",d.style.borderColor=l,d.style.color=l,_+=.08,d.style.transform="scale("+_+")"):(u.classList.remove("timer__footer_show"),d.removeAttribute("style"),g=0,m=128,_=1.1,page.classList.add("page_die"),setTimeout(function(){c=1e3,n=61,page.classList.remove("page_die")},4500)),d.blur()});var v={j:"bugbait_squeeze2",c:"iceaxe_swing1",m:"physcannon_tooheavy",g:"crossbow_fire1",V:"wpn_moveselect","+":"smallmedkit1",b:"shotgun_fire7",k:"explode3",l:"energy_sing_flyby2",d:"pistol_fire2",i:"rocket1",e:"357_fire2",h:"chargeloop",a:"smg1_fireburst1","*":"suitchargeok1"},f=Object.keys(v),p=document.createElement("div");p.className="items";var h=document.createElement("button");h.type="button",h.classList="button items__button",h.innerText=f[0],h.dataset.sound=v[f[0]],p.append(h),document.querySelector(".content").append(p),p.addEventListener("click",function(e){new Audio("resources/audio/items/"+h.dataset.sound+".wav").play()}),h.addEventListener("touchstart",function(){},!1),setInterval(function(){var e=f.length*Math.random()<<0,t=f[e],n=v[f[e]];h.classList.add("items__button_fade_out");var o=1e3*window.getComputedStyle(h).transitionDuration.slice(0,-1);setTimeout(function(){h.innerText=t,h.dataset.sound=n,h.classList.remove("items__button_fade_out")},o)},5e3),setInterval(function(){var e=moment(),t=moment("2006-05-22 12:00:00"),n=e.diff(t),o=moment.duration(n);document.querySelector(".stats__years").innerHTML=o.years(),document.querySelector(".stats__months").innerHTML=o.months(),document.querySelector(".stats__days").innerHTML=o.days(),document.querySelector(".stats__hours").innerHTML=o.hours(),document.querySelector(".stats__min").innerHTML=o.minutes(),document.querySelector(".stats__sec").innerHTML=o.seconds()},1e3),window.addEventListener("resize",function(){window.innerWidth!=windowWidth&&(info.style.height=0,info.classList.remove("show"),document.querySelector(".open-info__button").classList.remove("active"))})});