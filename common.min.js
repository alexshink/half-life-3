function is_touch_device(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var t,n=["(",e.join("touch-enabled),("),"heartz",")"].join("");return t=n,window.matchMedia(t).matches}window.addEventListener("load",function(){var n,o=document.createElement("div"),s=new Audio("resources/audio/valve-theme.wav");o.className="intro",o.innerHTML='<img src="resources/intro/intro-1.jpg" class="intro__image"><img src="resources/intro/intro-3.jpg" class="intro__glitch-image"><div class="intro__panel"><button type="button" class="button button_sound intro__pause"></button><button type="button" class="button button_sound intro__close"></button></div>',document.body.append(o);var i=document.querySelector(".intro__pause");i.addEventListener("click",function(){this.className.indexOf("intro__play")<0?s.pause():s.play(),this.classList.toggle("intro__play")}),document.querySelectorAll(".button_sound").forEach(function(t){is_touch_device()||t.addEventListener("mouseenter",function(){new Audio("resources/audio/buttonrollover.wav").play()}),t.addEventListener("click",function(){if(new Audio("resources/audio/buttonclickrelease.wav").play(),t.blur(),0<=t.className.indexOf("languages__button")){var e=t.innerText.toLowerCase();document.querySelector(".languages__button_active").classList.remove("languages__button_active"),t.classList.add("languages__button_active"),document.body.className="page page_"+e}0<=t.className.indexOf("open-intro__button")&&(o.classList.add("intro_show"),s.loop=!0,s.play(),n=setInterval(function(){o.classList.add("intro_glitch"),setTimeout(function(){o.classList.remove("intro_glitch")},85)},1e4)),0<=t.className.indexOf("intro__close")&&(s.pause(),s.currentTime=0,clearInterval(n),o.className="intro",i.classList.remove("intro__play")),0<=t.className.indexOf("stats")&&t.classList.toggle("stats_hidden")})});var t=document.querySelector(".timer__inner"),a=60,r=1e3;var e=document.querySelector(".page__start-button");setTimeout(function(){e.classList.add("active"),e.innerText="Start"},1e3),e.addEventListener("click",function(){0<=this.className.indexOf("active")&&(e.remove(),document.body.classList.remove("page_loading"),function e(){setTimeout(function(){remainingSeconds=(a-=1)%60,allMinutes=(a-remainingSeconds)/60,remainingMinutes=allMinutes%60,allHours=(allMinutes-allMinutes%60)/60,1==remainingMinutes.toString().length&&(remainingMinutes="0"+remainingMinutes),allHours%2==0&&(allHours=Math.abs(allHours)),1==allHours.toString().length&&(allHours="0"+allHours),-25==allHours&&(a=60),t.innerHTML=allHours+":"+remainingMinutes+":"+("0"+remainingSeconds).slice(-2),e()},r)}(),s.volume=0,s.play(),s.pause(),s.currentTime=0,s.volume=1)});var u=document.querySelector(".timer__footer");t.addEventListener("click",function(e){u.classList.toggle("timer__footer_show")});var c,l=document.querySelector(".timer__speedup"),d=128,m=1.1,_=0;l.addEventListener("click",function(e){_++;var t=new Audio("resources/audio/timer-speedup/"+_+".wav");t.volume=.7,t.play(),1<r?(r/=2,c="rgb(255, "+(d-=12.8)+", 23)",l.style.borderColor=c,l.style.color=c,m+=.08,l.style.transform="scale("+m+")"):(u.classList.remove("timer__footer_show"),l.removeAttribute("style"),_=0,d=128,m=1.1,document.body.classList.add("page_die"),setTimeout(function(){r=1e3,a=61,document.body.classList.remove("page_die")},4500)),l.blur()});var v={j:"bugbait_squeeze2",c:"iceaxe_swing1",m:"physcannon_tooheavy",g:"crossbow_fire1",V:"wpn_moveselect","+":"smallmedkit1",b:"shotgun_fire7",k:"explode3",l:"energy_sing_flyby2",d:"pistol_fire2",i:"rocket1",e:"357_fire2",h:"chargeloop",a:"smg1_fireburst1","*":"suitchargeok1"},g=Object.keys(v),y=document.createElement("div");y.className="items";var p=document.createElement("button");p.type="button",p.classList="button items__button",p.innerText=g[0],p.dataset.sound=v[g[0]],y.append(p),document.querySelector(".content").append(y),y.addEventListener("click",function(e){new Audio("resources/audio/items/"+p.dataset.sound+".wav").play()}),p.addEventListener("touchstart",function(){},!1),setInterval(function(){var e=g.length*Math.random()<<0,t=g[e],n=v[g[e]];p.classList.add("items__button_fade_out");var o=1e3*window.getComputedStyle(p).transitionDuration.slice(0,-1);setTimeout(function(){p.innerText=t,p.dataset.sound=n,p.classList.remove("items__button_fade_out")},o)},5e3),setInterval(function(){var e=moment(),t=moment("2006-05-22 12:00:00"),n=e.diff(t),o=moment.duration(n);document.querySelector(".stats__years").innerHTML=o.years(),document.querySelector(".stats__months").innerHTML=o.months(),document.querySelector(".stats__days").innerHTML=o.days(),document.querySelector(".stats__hours").innerHTML=o.hours(),document.querySelector(".stats__min").innerHTML=o.minutes(),document.querySelector(".stats__sec").innerHTML=o.seconds()},1e3)});